<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:p="http://primefaces.org/ui"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core">

    <h:head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <title>TAIMSAL S.A. de C.V.</title>
        <meta name="description" content="Análisis Financiero para TAIMSAL S.A. de C.V" />
        <meta name="author" content="Flacas Team" />
        <link href='http://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic' rel='stylesheet' type='text/css' />
        <link rel="stylesheet" href="css/main.css" />
        <link rel="stylesheet" href="css/theme/default.css" id="theme" />
        <link rel="stylesheet" href="lib/css/zenburn.css" />
    </h:head>

    <h:body>

        <div class="reveal">

            <!-- Any section element inside of this container is displayed as a slide -->
            <div class="slides">
                <!--
                <section>
                    <object width="550" height="400">
                        <param name="movie" value="http://www.timetoast.com/flash/TimelineViewer.swf?passedTimelines=461993" />
                        <param name="passedTimelines" value="461993" />
                        <param name="allowScriptAccess" value="always" />
                        <embed src="http://www.timetoast.com/flash/TimelineViewer.swf?passedTimelines=461993" type="application/x-shockwave-flash" passedTimelines="461993" width="550" height="400" allowScriptAccess="always" /></object>
                </section>-->
                <!-- ANALISIS VERTICALES -->
                <section>
                    <!-- ANALISIS VERTICAL ACTIVOS -->
                    <section>
                        <h:form id="vertical-activo">
                            <p:dataTable id="v-activo" var="cuenta" value="#{financieroController.cuentas}"
                                         emptyMessage="Seleccione un Período" style="font-size: 25px">

                                <f:facet name="header">  
                                    Ánalisis Vertical Activos 
                                </f:facet>
                                <p:column style="width: 10px">
                                    <p:rowToggler />
                                </p:column>
                                <p:column style="width:200px">  
                                    <f:facet name="header">  
                                        Cuenta
                                    </f:facet>  
                                    <h:outputText value="#{cuenta.nombreCuenta}" />  
                                </p:column>
                                <p:column style="width:25px; text-align: right">  
                                    <f:facet name="header">  
                                        Saldo
                                    </f:facet>  
                                    <h:outputText value="#{cuenta.saldoFinalCuenta}">
                                        <f:convertNumber pattern="#,##0.00;(#,##0.00)"
                                                         locale="#{usuarioController.locale}"/>
                                    </h:outputText>
                                    <f:facet name="footer">  
                                        <h:outputText value="#{financieroController.periodoSelected.totalActivoPeriodo}">
                                            <f:convertNumber pattern="#,##0.00;(#,##0.00)"
                                                             locale="#{usuarioController.locale}"/>
                                        </h:outputText>
                                    </f:facet>  
                                </p:column>
                                <p:column style="width:15px; text-align: right">  
                                    <f:facet name="header">  
                                        %
                                    </f:facet>  
                                    <h:outputText value="#{cuenta.porcentajeParticipacion}">
                                        <f:convertNumber pattern="#,##0.00;(#,##0.00)" 
                                                         locale="#{usuarioController.locale}"/>
                                    </h:outputText>
                                    <f:facet name="footer">  
                                        <h:outputText value="#{financieroController.totalPorcentaje}">
                                            <f:convertNumber pattern="#,##0.00;(#,##0.00)"
                                                             locale="#{usuarioController.locale}"/>
                                        </h:outputText>
                                    </f:facet>  
                                </p:column>
                                <p:rowExpansion>
                                    <p:dataTable id="v-activo-d" var="saldo" value="#{cuenta.saldosSubcuenta}"
                                                 style="font-size: 14px; margin-left: 35px">
                                        <p:column style="width:200px" >

                                            <h:outputText value="#{saldo.subCuenta.nombreSubcuenta}" />  
                                        </p:column>
                                        <p:column style="width:25px; text-align: right">  

                                            <h:outputText value="#{saldo.saldoFinalSubcuenta}">
                                                <f:convertNumber pattern="#,##0.00;(#,##0.00)"
                                                                 locale="#{usuarioController.locale}"/>
                                            </h:outputText>  
                                        </p:column>
                                        <p:column style="width:15px; text-align: right">  

                                            <h:outputText value="#{saldo.porcentajeParticipacion}">
                                                <f:convertNumber pattern="#,##0.00;(#,##0.00)" 
                                                                 locale="#{usuarioController.locale}"/>
                                            </h:outputText>  
                                        </p:column>
                                    </p:dataTable>
                                </p:rowExpansion>
                            </p:dataTable>

                            <p:selectOneListbox  value="#{financieroController.periodoSelected}" 
                                                 style="width: 300px; height: 100px; font-size: 14px; 
                                                 margin-left: 35%">
                                <f:selectItems value="#{periodoController.itemsSelect}"/> 
                            </p:selectOneListbox>
                            <p:commandButton value="Cambiar Perído" 
                                             actionListener="#{financieroController.analizarVerticalActivos}"
                                             update="v-activo"
                                             style="font-size: 14px" />
                        </h:form>
                    </section>
                    <!-- ANALISIS VERTICAL PASIVOS -->
                    <section>
                        <h:form id="vertical-pasivo">
                            <p:dataTable id="v-pasivo" var="cuenta" value="#{financieroController.cuentas}"
                                         emptyMessage="Seleccione un Período" style="font-size: 25px">

                                <f:facet name="header">  
                                    Ánalisis Vertical Pasivos 
                                </f:facet>
                                <p:column style="width: 10px">
                                    <p:rowToggler />
                                </p:column>
                                <p:column style="width:200px">  
                                    <f:facet name="header">  
                                        Cuenta
                                    </f:facet>  
                                    <h:outputText value="#{cuenta.nombreCuenta}" />  
                                </p:column>
                                <p:column style="width:25px; text-align: right">  
                                    <f:facet name="header">  
                                        Saldo
                                    </f:facet>  
                                    <h:outputText value="#{cuenta.saldoFinalCuenta}">
                                        <f:convertNumber pattern="#,##0.00;(#,##0.00)"
                                                         locale="#{usuarioController.locale}"/>
                                    </h:outputText>
                                    <f:facet name="footer">  
                                        <h:outputText value="#{financieroController.periodoSelected.totalPasivoPeriodo}">
                                            <f:convertNumber pattern="#,##0.00;(#,##0.00)"
                                                             locale="#{usuarioController.locale}"/>
                                        </h:outputText>
                                    </f:facet>  
                                </p:column>
                                <p:column style="width:15px; text-align: right">  
                                    <f:facet name="header">  
                                        %
                                    </f:facet>  
                                    <h:outputText value="#{cuenta.porcentajeParticipacion}">
                                        <f:convertNumber pattern="#,##0.00;(#,##0.00)" 
                                                         locale="#{usuarioController.locale}"/>
                                    </h:outputText>
                                    <f:facet name="footer">  
                                        <h:outputText value="#{financieroController.totalPorcentaje}">
                                            <f:convertNumber pattern="#,##0.00;(#,##0.00)"
                                                             locale="#{usuarioController.locale}"/>
                                        </h:outputText>
                                    </f:facet>  
                                </p:column>
                                <p:rowExpansion>
                                    <p:dataTable id="v-pasivo-d" var="saldo" value="#{cuenta.saldosSubcuenta}"
                                                 style="font-size: 14px; margin-left: 35px">
                                        <p:column style="width:200px" >

                                            <h:outputText value="#{saldo.subCuenta.nombreSubcuenta}" />  
                                        </p:column>
                                        <p:column style="width:25px; text-align: right">  

                                            <h:outputText value="#{saldo.saldoFinalSubcuenta}">
                                                <f:convertNumber pattern="#,##0.00;(#,##0.00)"
                                                                 locale="#{usuarioController.locale}"/>
                                            </h:outputText>  
                                        </p:column>
                                        <p:column style="width:15px; text-align: right">  

                                            <h:outputText value="#{saldo.porcentajeParticipacion}">
                                                <f:convertNumber pattern="#,##0.00;(#,##0.00)" 
                                                                 locale="#{usuarioController.locale}"/>
                                            </h:outputText>  
                                        </p:column>
                                    </p:dataTable>
                                </p:rowExpansion>
                            </p:dataTable>

                            <p:selectOneListbox  value="#{financieroController.periodoSelected}" 
                                                 style="width: 300px; height: 100px; font-size: 14px; 
                                                 margin-left: 35%">
                                <f:selectItems value="#{periodoController.itemsSelect}"/> 
                            </p:selectOneListbox>
                            <p:commandButton value="Cambiar Perído" 
                                             actionListener="#{financieroController.analizarVerticalPasivos}"
                                             update="v-pasivo"
                                             style="font-size: 14px" />
                        </h:form>
                    </section>

                    <!-- ANALISIS VERTICAL CAPITAL  -->
                    <section>
                        <h:form id="vertical-capital">
                            <p:dataTable id="v-capital" var="cuenta" value="#{financieroController.cuentas}"
                                         emptyMessage="Seleccione un Período" style="font-size: 25px">

                                <f:facet name="header">  
                                    Ánalisis Vertical Patrimonio 
                                </f:facet>
                                <p:column style="width: 10px">
                                    <p:rowToggler />
                                </p:column>
                                <p:column style="width:200px">  
                                    <f:facet name="header">  
                                        Cuenta
                                    </f:facet>  
                                    <h:outputText value="#{cuenta.nombreCuenta}" />  
                                </p:column>
                                <p:column style="width:25px; text-align: right">  
                                    <f:facet name="header">  
                                        Saldo
                                    </f:facet>  
                                    <h:outputText value="#{cuenta.saldoFinalCuenta}">
                                        <f:convertNumber pattern="#,##0.00;(#,##0.00)"
                                                         locale="#{usuarioController.locale}"/>
                                    </h:outputText>
                                    <f:facet name="footer">  
                                        <h:outputText value="#{financieroController.periodoSelected.totalCapitalPeriodo}">
                                            <f:convertNumber pattern="#,##0.00;(#,##0.00)"
                                                             locale="#{usuarioController.locale}"/>
                                        </h:outputText>
                                    </f:facet>  
                                </p:column>
                                <p:column style="width:15px; text-align: right">  
                                    <f:facet name="header">  
                                        %
                                    </f:facet>  
                                    <h:outputText value="#{cuenta.porcentajeParticipacion}">
                                        <f:convertNumber pattern="#,##0.00;(#,##0.00)" 
                                                         locale="#{usuarioController.locale}"/>
                                    </h:outputText>
                                    <f:facet name="footer">  
                                        <h:outputText value="#{financieroController.totalPorcentaje}">
                                            <f:convertNumber pattern="#,##0.00;(#,##0.00)"
                                                             locale="#{usuarioController.locale}"/>
                                        </h:outputText>
                                    </f:facet>  
                                </p:column>
                                <p:rowExpansion>
                                    <p:dataTable id="v-capital-d" var="saldo" value="#{cuenta.saldosSubcuenta}"
                                                 style="font-size: 14px; margin-left: 35px">
                                        <p:column style="width:200px" >

                                            <h:outputText value="#{saldo.subCuenta.nombreSubcuenta}" />  
                                        </p:column>
                                        <p:column style="width:25px; text-align: right">  

                                            <h:outputText value="#{saldo.saldoFinalSubcuenta}">
                                                <f:convertNumber pattern="#,##0.00;(#,##0.00)"
                                                                 locale="#{usuarioController.locale}"/>
                                            </h:outputText>  
                                        </p:column>
                                        <p:column style="width:15px; text-align: right">  

                                            <h:outputText value="#{saldo.porcentajeParticipacion}">
                                                <f:convertNumber pattern="#,##0.00;(#,##0.00)" 
                                                                 locale="#{usuarioController.locale}"/>
                                            </h:outputText>  
                                        </p:column>
                                    </p:dataTable>
                                </p:rowExpansion>
                            </p:dataTable>

                            <p:selectOneListbox  value="#{financieroController.periodoSelected}" 
                                                 style="width: 300px; height: 100px; font-size: 14px; 
                                                 margin-left: 35%">
                                <f:selectItems value="#{periodoController.itemsSelect}"/> 
                            </p:selectOneListbox>
                            <p:commandButton value="Cambiar Perído" 
                                             actionListener="#{financieroController.analizarVerticalCapital}"
                                             update="v-capital"
                                             style="font-size: 14px" />
                        </h:form>
                    </section>
                    <!-- ANALISIS VERTICAL RESULTADOS  -->
                    <section>
                        <h:form id="vertical-resultados">
                            <p:dataTable id="v-resultados" var="cuenta" value="#{financieroController.cuentas}"
                                         emptyMessage="Seleccione un Período" style="font-size: 25px"
                                         paginator="true" rows="4" 
                                         paginatorTemplate="{PageLinks}"
                                         paginatorAlwaysVisible="false">

                                <f:facet name="header">  
                                    Ánalisis Vertical Resultados
                                </f:facet>
                                <p:column style="width: 10px">
                                    <p:rowToggler />
                                </p:column>
                                <p:column style="width:200px">  
                                    <f:facet name="header">  
                                        Cuenta
                                    </f:facet>  
                                    <h:outputText value="#{cuenta.nombreCuenta}" />  
                                </p:column>
                                <p:column style="width:25px; text-align: right">  
                                    <f:facet name="header">  
                                        Saldo
                                    </f:facet>  
                                    <h:outputText value="#{cuenta.saldoFinalCuenta}">
                                        <f:convertNumber pattern="#,##0.00;(#,##0.00)"
                                                         locale="#{usuarioController.locale}"/>
                                    </h:outputText>
                                    <f:facet name="footer">  
                                        <h:outputText value="#{financieroController.periodoSelected.utilidadNetaPeriodo}">
                                            <f:convertNumber pattern="#,##0.00;(#,##0.00)"
                                                             locale="#{usuarioController.locale}"/>
                                        </h:outputText>
                                    </f:facet>  
                                </p:column>
                                <p:column style="width:15px; text-align: right">  
                                    <f:facet name="header">  
                                        %
                                    </f:facet>  
                                    <h:outputText value="#{cuenta.porcentajeParticipacion}">
                                        <f:convertNumber pattern="#,##0.00;(#,##0.00)" 
                                                         locale="#{usuarioController.locale}"/>
                                    </h:outputText>
                                    <f:facet name="footer">  
                                        <h:outputText value="#{financieroController.totalPorcentaje}">
                                            <f:convertNumber pattern="#,##0.00;(#,##0.00)"
                                                             locale="#{usuarioController.locale}"/>
                                        </h:outputText>
                                    </f:facet>  
                                </p:column>
                                <p:rowExpansion>
                                    <p:dataTable id="v-result-d" var="saldo" value="#{cuenta.saldosSubcuenta}"
                                                 style="font-size: 14px; margin-left: 35px"
                                                 paginator="true" rows="2" 
                                                 paginatorTemplate="{PageLinks}"
                                                 paginatorAlwaysVisible="false">
                                        <p:column style="width:200px" >

                                            <h:outputText value="#{saldo.subCuenta.nombreSubcuenta}" />  
                                        </p:column>
                                        <p:column style="width:25px; text-align: right">  

                                            <h:outputText value="#{saldo.saldoFinalSubcuenta}">
                                                <f:convertNumber pattern="#,##0.00;(#,##0.00)"
                                                                 locale="#{usuarioController.locale}"/>
                                            </h:outputText>  
                                        </p:column>
                                        <p:column style="width:15px; text-align: right">  

                                            <h:outputText value="#{saldo.porcentajeParticipacion}">
                                                <f:convertNumber pattern="#,##0.00;(#,##0.00)" 
                                                                 locale="#{usuarioController.locale}"/>
                                            </h:outputText>  
                                        </p:column>
                                    </p:dataTable>
                                </p:rowExpansion>
                            </p:dataTable>

                            <p:selectOneListbox  value="#{financieroController.periodoSelected}" 
                                                 style="width: 300px; height: 100px; font-size: 14px; 
                                                 margin-left: 35%">
                                <f:selectItems value="#{periodoController.itemsSelect}"/> 
                            </p:selectOneListbox>
                            <p:commandButton value="Cambiar Perído" 
                                             actionListener="#{financieroController.analizarVerticalResultados}"
                                             update="v-resultados"
                                             style="font-size: 14px" />
                        </h:form>
                    </section>
                </section>
                <!-- ANALISIS DUPONT -->
                <section>

                    <h:form id="dupont">  
                        <h:outputText value="Análisis DUPONT" style="   font-weight: bolder"/>
                        <br />
                        <br />
                        <p:tree id="dupont-tree" value="#{financieroController.dupont}" var="node"
                                style="font-size: 25px; width: 500px; margin-left: 23%; text-align: center">  
                            <p:treeNode id="treeNode" >  
                                <h:outputText value="#{node.razon}" style="color: #cccccc"/>
                                <br />
                                <h:outputText value="#{node.valor}"> 
                                    <f:convertNumber pattern="#,##0.00;(#,##0.00)"
                                                     locale="#{usuarioController.locale}"/>
                                </h:outputText>  
                            </p:treeNode>  
                        </p:tree>
                        <br />
                        <p:selectOneListbox  value="#{financieroController.periodoSelected}" 
                                             style="width: 300px; height: 100px; font-size: 14px; 
                                             margin-left: 35%">
                            <f:selectItems value="#{periodoController.itemsSelect}"/> 
                        </p:selectOneListbox>
                        <p:commandButton value="Cambiar Perído" 
                                         actionListener="#{financieroController.analizarDupont}"
                                         update="dupont-tree"
                                         style="font-size: 14px" />

                    </h:form>  
                </section>
                <!-- RAZONES FINANCIERAS -->
                 <section>
                    <!-- RAZON CIRCULANTE -->
                    <h:panelGrid id="razon-circu" columns="1" width="900" bgcolor="#ffffff">
                        <p:barChart value="#{financieroController.chartModel}" legendPosition="#{financieroController.legendPosition}"
                                    zoom="true" animate="true"  orientation="horizontal"
                                     title="Razón Circulante" style="width: 800px; height: 400px; margin-left: 5%" />  
                                         
                        <br />
                        <p:commandButton value="Act Circulante / Pas Circulante" 
                                         actionListener="#{financieroController.graficarValoresCirculantes}"
                                         update="razon-circu"
                                         style="font-size: 14px" />
                        <p:commandButton value="Valor Razón Circulante" 
                                         actionListener="#{financieroController.graficarRazonCirculante}"
                                         update="razon-circu"
                                         style="font-size: 14px" />

                    </h:panelGrid>
                </section>
                <section>
                    <!-- INDICE DE ENDEUDAMIENTO -->
                    <h:panelGrid id="endeuda" columns="1" width="900" bgcolor="#ffffff">
                        <p:lineChart value="#{financieroController.chartModel}" legendPosition="#{financieroController.legendPosition}"
                                     zoom="true" animate="true"  
                                     title="Índice de Endeudamiento" style="width: 800px; height: 400px; margin-left: 5%" />  
                                         
                        <br />
                        <p:commandButton value="Pasivos / Activos" 
                                         actionListener="#{financieroController.graficarActivoVrsPasivo}"
                                         update="endeuda"
                                         style="font-size: 14px" />
                        <p:commandButton value="Valor Índice" 
                                         actionListener="#{financieroController.graficarIndiceEndeuda}"
                                         update="endeuda"
                                         style="font-size: 14px" />

                    </h:panelGrid>
                </section>
                 <section>
                    <!-- MARGEN DE UTILIDAD -->
                    <h:panelGrid id="margen-util" columns="1" width="900" bgcolor="#ffffff">
                        <p:barChart value="#{financieroController.chartModel}" legendPosition="#{financieroController.legendPosition}"
                                     zoom="true" animate="true"  
                                     title="Margen de Utilidad" style="width: 800px; height: 400px; margin-left: 5%" />  
                                         
                        <br />
                        <p:commandButton value="Utilidad / Ventas" 
                                         actionListener="#{financieroController.graficarUtilidadVrsVentas}"
                                         update="margen-util"
                                         style="font-size: 14px" />
                        <p:commandButton value="Valor Margen" 
                                         actionListener="#{financieroController.graficarMargenUtilidad}"
                                         update="margen-util"
                                         style="font-size: 14px" />

                    </h:panelGrid>
                </section>

            </div>

            <!-- The navigational controls UI -->
            <aside class="controls">
                <a class="left" href="#">&#x25C4;</a>
                <a class="right" href="#">&#x25BA;</a>
                <a class="up" href="#">&#x25B2;</a>
                <a class="down" href="#">&#x25BC;</a>
            </aside>

            <!-- Presentation progress bar -->
            <div class="progress"><span></span></div>

        </div>

        <script src="lib/js/head.min.js"></script>
        <script src="js/reveal.min.js"></script>

        <script>
			
            // Full list of configuration options available here:
            // https://github.com/hakimel/reveal.js#configuration
            Reveal.initialize({
                controls: true,
                progress: true,
                history: true,
				
                theme: Reveal.getQueryHash().theme || 'default', // available themes are in /css/theme
                transition: Reveal.getQueryHash().transition || 'default'
            });
			
        </script>

    </h:body>
</html>
